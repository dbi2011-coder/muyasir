<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø±Ø§ØªÙŠ - Ù…ÙŠØ³Ø± Ø§Ù„ØªØ¹Ù„Ù…</title>
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="../../assets/css/dashboard.css">
    <link rel="stylesheet" href="../../assets/css/student.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* ============================================ */
        /* Ø£Ù†Ù…Ø§Ø· Ø®Ø§ØµØ© Ø¨ÙˆØ§Ø¬Ù‡Ø© Ø­Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± (ØªØµÙ…ÙŠÙ… Ø·ÙÙˆÙ„ÙŠ ÙˆÙ…Ø­ÙØ²) */
        /* ============================================ */
        .test-taking-container { padding: 10px; max-width: 800px; margin: 0 auto; }
        
        .question-card { 
            background: #fff; 
            border: 2px solid #f0f0f0; 
            border-radius: 20px; 
            padding: 25px; 
            margin-bottom: 30px; 
            box-shadow: 0 8px 20px rgba(0,0,0,0.03);
            transition: transform 0.3s ease, border-color 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .question-card:hover { 
            transform: translateY(-5px); 
            border-color: var(--primary-color); 
        }
        
        .question-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }

        .question-number { 
            background: #e3f2fd; 
            color: var(--primary-color); 
            padding: 8px 20px; 
            border-radius: 50px; 
            font-weight: 800; 
            font-size: 0.9rem;
            display: inline-block; 
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .question-text { 
            font-size: 1.3rem; 
            font-weight: 700; 
            margin-bottom: 25px; 
            color: #2c3e50; 
            line-height: 1.6;
        }
        
        /* Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© */
        .answers-grid { display: grid; gap: 15px; }
        
        .answer-option { 
            display: flex; 
            align-items: center; 
            padding: 15px 20px; 
            border: 2px solid #e9ecef; 
            border-radius: 12px; 
            cursor: pointer; 
            transition: all 0.2s; 
            font-size: 1.1rem;
            background: #f8f9fa;
        }
        
        .answer-option:hover { 
            background-color: #fff; 
            border-color: var(--primary-color); 
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        
        .answer-option input { 
            margin-left: 15px; 
            width: 22px; 
            height: 22px; 
            accent-color: var(--primary-color);
        }
        
        .answer-option.selected { 
            border-color: var(--success-color); 
            background-color: #e8f5e9; 
            color: #1b5e20;
            font-weight: bold;
        }
        
        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØµÙˆØ§Ø¨ ÙˆØ§Ù„Ø®Ø·Ø£ */
        .tf-buttons { display: flex; gap: 20px; justify-content: center; margin-top: 10px; }
        
        .tf-btn { 
            flex: 1; 
            padding: 20px; 
            border: none; 
            border-radius: 15px; 
            font-size: 1.4rem; 
            cursor: pointer; 
            transition: all 0.3s;
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            gap: 10px;
            font-family: 'Tajawal', sans-serif;
            font-weight: bold;
        }
        
        .tf-btn.true { background-color: #e8f5e9; color: #2e7d32; border: 2px solid #c8e6c9; }
        .tf-btn.false { background-color: #ffebee; color: #c62828; border: 2px solid #ffcdd2; }
        
        .tf-btn:hover { transform: scale(1.05); }
        
        .tf-btn.true.active { background-color: #4caf50; color: white; border-color: #4caf50; box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3); }
        .tf-btn.false.active { background-color: #f44336; color: white; border-color: #f44336; box-shadow: 0 5px 15px rgba(244, 67, 54, 0.3); }

        /* Ù†Ø§ÙØ°Ø© ÙƒØ§Ù…Ù„Ø© Ø§Ù„Ø´Ø§Ø´Ø© */
        .modal-content.full-screen { 
            width: 98%; 
            max-width: 1000px; 
            height: 95vh; 
            display: flex; 
            flex-direction: column; 
            border-radius: 20px;
            overflow: hidden;
        }
        
        .modal-body { 
            flex: 1; 
            overflow-y: auto; 
            background-color: #fcfcfc;
            background-image: radial-gradient(#e0e0e0 1px, transparent 1px);
            background-size: 20px 20px;
        }

        .welcome-emoji { font-size: 5rem; margin-bottom: 20px; animation: bounce 2s infinite; }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <img src="../../assets/images/logo.png" alt="Ø´Ø¹Ø§Ø±">
                    <h2>Ù…ÙŠØ³Ø± Ø§Ù„ØªØ¹Ù„Ù…</h2>
                </div>
            </div>
            <ul class="sidebar-menu">
                <li><a href="dashboard.html"><span class="menu-icon">ğŸ </span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                <li><a href="my-tests.html" class="active"><span class="menu-icon">ğŸ“</span>Ø§Ø®ØªØ¨Ø§Ø±Ø§ØªÙŠ</a></li>
                <li><a href="my-iep.html"><span class="menu-icon">ğŸ“Š</span>Ø®Ø·ØªÙŠ Ø§Ù„ØªØ±Ø¨ÙˆÙŠØ©</a></li>
                <li><a href="my-lessons.html"><span class="menu-icon">ğŸ“š</span>Ø¯Ø±ÙˆØ³ÙŠ</a></li>
                <li><a href="my-assignments.html"><span class="menu-icon">ğŸ“‹</span>ÙˆØ§Ø¬Ø¨Ø§ØªÙŠ</a></li>
                <li><a href="messages.html"><span class="menu-icon">ğŸ’¬</span>Ù…Ø±Ø§Ø³Ù„Ø© Ø§Ù„Ù…Ø¹Ù„Ù…</a></li>
                <li><a href="#" onclick="logout()"><span class="menu-icon">ğŸšª</span>Ø®Ø±ÙˆØ¬</a></li>
            </ul>
        </aside>

        <main class="main-content-dashboard">
            <header class="dashboard-header">
                <button class="mobile-menu-btn">â˜°</button>
                <div class="user-info">
                    <div class="user-welcome">
                        <div class="welcome-text">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙŠØ§ Ø¨Ø·Ù„</div>
                        <div class="user-name" id="userName">Ø§Ù„Ø·Ø§Ù„Ø¨</div>
                    </div>
                    <div class="user-avatar" id="userAvatar">Ø·</div>
                </div>
            </header>

            <div class="dashboard-content">
                <div class="content-header">
                    <h1>ğŸ“ Ø§Ø®ØªØ¨Ø§Ø±Ø§ØªÙŠ</h1>
                    <p>Ù‡ÙŠØ§ Ù†Ø®ØªØ¨Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙ†Ø§ ÙˆÙ†Ø­Ù‚Ù‚ Ø§Ù„Ù†Ø¬ÙˆÙ…!</p>
                </div>

                <div class="tests-tabs">
                    <div class="tabs-header">
                        <button class="tab-btn active" data-tab="pending">Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙ†ØªØ¸Ø±Ùƒ â³</button>
                        <button class="tab-btn" data-tab="completed">Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Ø£Ù†Ø¬Ø²ØªÙ‡Ø§ âœ…</button>
                    </div>

                    <div class="tabs-content">
                        <div class="tab-pane active" id="pending-tab">
                            <div class="tests-list" id="pendingTestsList">
                                </div>
                        </div>

                        <div class="tab-pane" id="completed-tab">
                            <div class="tests-list" id="completedTestsList">
                                </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="startTestModal" class="modal">
        <div class="modal-content full-screen">
            <div class="modal-header" style="background: white; border-bottom: 2px solid #f0f0f0; padding: 20px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <span style="font-size: 2rem;">ğŸ“</span>
                    <div>
                        <h3 id="testModalTitle" style="color: var(--secondary-color); margin: 0; font-size: 1.4rem;">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h3>
                        <span style="color: #666; font-size: 0.9rem;">Ø±ÙƒØ² Ø¬ÙŠØ¯Ø§Ù‹ ÙŠØ§ Ø¨Ø·Ù„!</span>
                    </div>
                </div>
                <div id="testTimer" style="font-weight:bold; color: var(--primary-color); font-size:1.2rem; background: #e3f2fd; padding: 5px 15px; border-radius: 20px;"></div>
            </div>

            <div class="modal-body">
                <div id="testInstructions">
                    <div style="text-align: center; padding: 60px 20px;">
                        <div class="welcome-emoji">ğŸš€</div>
                        <h2 style="color: var(--secondary-color); margin-bottom: 20px;">Ù‡Ù„ Ø£Ù†Øª Ù…Ø³ØªØ¹Ø¯ Ù„Ù„ØªØ­Ø¯ÙŠØŸ</h2>
                        <div style="background: white; display: inline-block; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); max-width: 500px; width: 100%; text-align: right;">
                            <ul style="list-style: none; padding: 0; font-size: 1.1rem; line-height: 2.5; margin: 0;">
                                <li>âœ¨ Ø§Ù‚Ø±Ø£ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¨Ù‡Ø¯ÙˆØ¡ ÙˆØªØ±ÙƒÙŠØ².</li>
                                <li>âœ¨ Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØªÙŠ ØªØ±Ø§Ù‡Ø§ ØµØ­ÙŠØ­Ø©.</li>
                                <li>âœ¨ Ù„Ø§ ØªØ³ØªØ¹Ø¬Ù„ØŒ Ù„Ø¯ÙŠÙƒ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙƒØ§ÙÙŠ.</li>
                                <li>âœ¨ Ø«Ù‚ Ø¨Ù†ÙØ³ÙƒØŒ Ø£Ù†Øª Ø°ÙƒÙŠ!</li>
                            </ul>
                        </div>
                        <div style="margin-top: 40px;">
                            <button class="btn btn-success btn-large" style="padding: 15px 50px; font-size: 1.3rem; border-radius: 50px; box-shadow: 0 10px 20px rgba(39, 174, 96, 0.3);" onclick="beginTestQuestions()">
                                Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¢Ù† ğŸ
                            </button>
                            <br>
                            <button class="btn btn-outline-secondary" style="margin-top: 20px; border: none; background: none;" onclick="closeStartTestModal()">
                                Ù„Ø³Øª Ù…Ø³ØªØ¹Ø¯Ø§Ù‹ Ø§Ù„Ø¢Ù†
                            </button>
                        </div>
                    </div>
                </div>

                <div id="testQuestionsArea" style="display: none;">
                    <div class="test-taking-container" id="questionsWrapper">
                        </div>
                </div>
            </div>

            <div class="modal-footer" id="testFooter" style="display: none; background: white; border-top: 2px solid #f0f0f0; padding: 20px; justify-content: space-between;">
                <button type="button" class="btn btn-secondary" onclick="if(confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ø®Ø±ÙˆØ¬ØŸ Ù„Ù† ÙŠØªÙ… Ø­ÙØ¸ Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ.')) closeStartTestModal()">Ø®Ø±ÙˆØ¬</button>
                <button type="button" class="btn btn-success btn-large" style="padding: 10px 40px; font-size: 1.1rem;" onclick="submitTestAnswers()">
                    ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª ÙˆØ¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± âœ…
                </button>
            </div>
        </div>
    </div>

    <script src="../../assets/js/dashboard.js"></script>
    <script src="../../assets/js/student.js"></script>
    <script src="../../assets/js/student-tests.js"></script>
    <script src="../../assets/js/auth.js"></script>
</body>
</html>
