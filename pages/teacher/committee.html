<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅุฏุงุฑุฉ ูุฌูุฉ ุตุนูุจุงุช ุงูุชุนูู - ููุณุฑ ุงูุชุนูู</title>
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="../../assets/css/dashboard.css">
    <link rel="stylesheet" href="../../assets/css/committee.css"> <link rel="icon" type="image/png" href="../../assets/images/logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        /* ุชูุณููุงุช ุฅุถุงููุฉ ุจุณูุทุฉ ููุฌูุฉ */
        .committee-tabs { display: flex; gap: 10px; margin-bottom: 20px; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        .tab-btn { padding: 10px 20px; border: none; background: none; cursor: pointer; font-family: 'Tajawal'; font-weight: bold; color: #777; border-radius: 5px; }
        .tab-btn.active { background: #007bff; color: white; }
        .meeting-card { background: #fff; border: 1px solid #ddd; padding: 15px; margin-bottom: 10px; border-radius: 8px; border-right: 4px solid #17a2b8; }
        .poll-builder-item { background: #f9f9f9; padding: 10px; margin-bottom: 5px; border-radius: 5px; position: relative; }
        .remove-poll-btn { position: absolute; left: 10px; top: 5px; color: red; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <img src="../../assets/images/logo.png" alt="ุดุนุงุฑ ุงููุธุงู">
                    <h2>ููุณุฑ ุงูุชุนูู</h2>
                </div>
            </div>
            
            <ul class="sidebar-menu">
                <li><a href="dashboard.html"><span class="menu-icon">๐</span>ุงูุฑุฆูุณูุฉ</a></li>
                <li><a href="students.html"><span class="menu-icon">๐จโ๐</span>ุงูุทูุงุจ</a></li>
                <li><a href="content-library.html"><span class="menu-icon">๐</span>ููุชุจุฉ ุงููุญุชูู</a></li>
                <li><a href="reports.html"><span class="menu-icon">๐</span>ุงูุชูุงุฑูุฑ</a></li>
                <li><a href="committee.html" class="active"><span class="menu-icon">๐ฅ</span>ูุฌูุฉ ุงูุตุนูุจุงุช</a></li>
                <li><a href="#" onclick="logout()"><span class="menu-icon">๐ช</span>ุชุณุฌูู ุงูุฎุฑูุฌ</a></li>
            </ul>
        </aside>

        <main class="main-content-dashboard">
            <header class="dashboard-header">
                <div class="user-info">
                    <div class="user-welcome">
                        <div class="welcome-text">ุฅุฏุงุฑุฉ ุงููุฌูุฉ</div>
                        <div class="user-name" id="userName">ุงููุนูู</div>
                    </div>
                </div>
            </header>

            <div class="dashboard-content">
                <div class="content-header">
                    <h1>ูุฌูุฉ ุตุนูุจุงุช ุงูุชุนูู</h1>
                    <button class="btn btn-primary" onclick="showNewMeetingModal()">+ ุงุฌุชูุงุน ุฌุฏูุฏ</button>
                </div>

                <div class="committee-tabs">
                    <button class="tab-btn active" id="tab-members" onclick="switchTab('members')">๐ฅ ุงูุฃุนุถุงุก</button>
                    <button class="tab-btn" id="tab-meetings" onclick="switchTab('meetings')">๐ ุงูุงุฌุชูุงุนุงุช</button>
                </div>

                <div id="members-view">
                    <div style="text-align: left; margin-bottom: 15px;">
                        <button class="btn btn-success" onclick="showAddMemberModal()">+ ุฅุถุงูุฉ ุนุถู</button>
                    </div>
                    <div id="membersListContainer">
                        </div>
                </div>

                <div id="meetings-view" style="display: none;">
                    <div id="meetingsListContainer">
                        </div>
                </div>
            </div>
        </main>
    </div>

    <div id="addMemberModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ุฅุถุงูุฉ ุนุถู ูุฌูุฉ</h3>
                <button class="modal-close" onclick="closeModal('addMemberModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>ุงูุงุณู ุงูุซูุงุซู <span style="color:red">*</span></label>
                    <input type="text" id="memName" class="form-control" placeholder="ูุซุงู: ูุญูุฏ ุนุจุฏุงููู">
                </div>
                <div class="form-group">
                    <label>ุงููุตูููุฉ</label>
                    <select id="memRole" class="form-control">
                        <option value="ูุนูู">ูุนูู</option>
                        <option value="ูุฏูุฑ">ูุฏูุฑ ุงููุฏุฑุณุฉ</option>
                        <option value="ููุฌู ุทูุงุจู">ููุฌู ุทูุงุจู</option>
                        <option value="ูุดุฑู">ูุดุฑู ุชุฑุจูู</option>
                    </select>
                </div>

                <hr style="margin: 15px 0; border-top: 1px dashed #ccc;">

                <div style="background:#f0f8ff; padding:15px; border-radius:8px; border:1px solid #bce8f1;">
                    <h5 style="margin-top:0; color:#31708f;">ุจูุงูุงุช ุงูุฏุฎูู ูููุธุงู</h5>
                    <small style="color:#666; display:block; margin-bottom:10px;">ูุฐู ุงูุจูุงูุงุช ุถุฑูุฑูุฉ ููุชููู ุงูุนุถู ูู ุงูุฏุฎูู.</small>
                    
                    <div class="form-group">
                        <label>ุงุณู ุงููุณุชุฎุฏู <span style="color:red">*</span></label>
                        <input type="text" id="memUser" class="form-control" placeholder="user1">
                    </div>
                    <div class="form-group">
                        <label>ูููุฉ ุงููุฑูุฑ <span style="color:red">*</span></label>
                        <input type="text" id="memPass" class="form-control" placeholder="123456">
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-success w-100" onclick="saveMember()">ุญูุธ ุงูุจูุงูุงุช</button>
            </div>
        </div>
    </div>

    <div id="meetingModal" class="modal">
        <div class="modal-content" style="min-width: 700px;">
            <div class="modal-header">
                <h3>ุนูุฏ ุงุฌุชูุงุน ุฌุฏูุฏ</h3>
                <button class="modal-close" onclick="closeModal('meetingModal')">&times;</button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>ุนููุงู ุงูุงุฌุชูุงุน</label>
                            <input type="text" id="meetTitle" class="form-control" placeholder="ูุซุงู: ุงุฌุชูุงุน ููุงูุดุฉ ุงูุฎุทุท">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>ุงูุชุงุฑูุฎ</label>
                            <input type="date" id="meetDate" class="form-control">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label>ุงููุฏุนููู ููุงุฌุชูุงุน (ุญุฏุฏ ุงูุฃุนุถุงุก)</label>
                    <div id="attendeesCheckboxList" style="max-height: 100px; overflow-y: auto; border: 1px solid #ddd; padding: 10px; border-radius: 5px;">
                        </div>
                </div>

                <div class="form-group">
                    <label>ููุน ุงูุงุฌุชูุงุน</label>
                    <div style="display:flex; gap:20px; margin-top:5px;">
                        <label><input type="radio" name="meetType" value="text" checked onclick="toggleMeetingType()"> ูุญุถุฑ ูุตู (ุชูููุฏู)</label>
                        <label><input type="radio" name="meetType" value="poll" onclick="toggleMeetingType()"> ุชุตููุช / ุงุณุชุจูุงู</label>
                    </div>
                </div>

                <div id="textContentArea">
                    <div class="form-group">
                        <label>ูุญุถุฑ ุงูุงุฌุชูุงุน / ุงููุญุงูุฑ</label>
                        <textarea id="meetTextBody" class="form-control" rows="5" placeholder="ุงูุชุจ ุชูุงุตูู ุงูุงุฌุชูุงุน ูุงููุฑุงุฑุงุช ููุง..."></textarea>
                    </div>
                </div>

                <div id="pollContentArea" style="display:none;">
                    <div id="pollQuestionsContainer"></div>
                    <button class="btn btn-outline-primary btn-sm mt-2" onclick="addPollQuestion()">+ ุฅุถุงูุฉ ููุฑุฉ/ุณุคุงู</button>
                </div>

            </div>
            <div class="modal-footer">
                <button class="btn btn-primary w-100" onclick="saveMeeting()">ุญูุธ ูุชูุซูู ุงูุงุฌุชูุงุน</button>
            </div>
        </div>
    </div>

    <div id="viewMeetingModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="viewMeetTitle">ุชูุงุตูู ุงูุงุฌุชูุงุน</h3>
                <button class="modal-close" onclick="closeModal('viewMeetingModal')">&times;</button>
            </div>
            <div class="modal-body" id="viewMeetBody">
                </div>
        </div>
    </div>

    <script src="../../assets/js/auth.js"></script>     <script src="../../assets/js/committee.js"></script> <script src="../../assets/js/dashboard.js"></script> </body>
</html>
