<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุชุจุฉ ุงููุญุชูู ุงูุชุนูููู - ููุณุฑ ุงูุชุนูู</title>
    <!-- ุงูุฎุทูุท -->
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- ุฃููุงุท CSS -->
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="../../assets/css/dashboard.css">
    <link rel="stylesheet" href="../../assets/css/teacher.css">
    <!-- ููุชุจุฉ ุงูุฃููููุงุช -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- ุงูุฑุฃุณ -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="../../assets/images/logo.png" alt="ุดุนุงุฑ ููุณุฑ ุงูุชุนูู">
                    <h1>ููุณุฑ ุงูุชุนูู</h1>
                </div>
                <nav class="nav">
                    <a href="dashboard.html" class="nav-link">ุงูุฑุฆูุณูุฉ</a>
                    <a href="students.html" class="nav-link">ุงูุทูุงุจ</a>
                    <a href="content-library.html" class="nav-link active">ููุชุจุฉ ุงููุญุชูู</a>
                    <a href="reports.html" class="nav-link">ุงูุชูุงุฑูุฑ</a>
                    <a href="schedule.html" class="nav-link">ุงูุฌุฏูู ุงูุฏุฑุงุณู</a>
                    <a href="committee.html" class="nav-link">ูุฌูุฉ ุตุนูุจุงุช ุงูุชุนูู</a>
                </nav>
                <div class="user-info">
                    <div class="user-welcome">
                        <div class="welcome-text">ูุฑุญุจุงู</div>
                        <div class="user-name" id="userName">ุงููุนูู</div>
                    </div>
                    <div class="user-avatar" id="userAvatar">ู</div>
                    <button class="btn btn-secondary btn-sm" onclick="logout()">ุชุณุฌูู ุงูุฎุฑูุฌ</button>
                </div>
            </div>
        </div>
    </header>

    <!-- ุงูุดุฑูุท ุงูุฌุงูุจู -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <img src="../../assets/images/logo-white.png" alt="ุดุนุงุฑ ููุณุฑ ุงูุชุนูู">
                <h2>ููุณุฑ ุงูุชุนูู</h2>
            </div>
        </div>
        <ul class="sidebar-menu">
            <li><a href="dashboard.html" class="active"><i class="menu-icon fas fa-home"></i>ุงูุฑุฆูุณูุฉ</a></li>
            <li><a href="students.html"><i class="menu-icon fas fa-users"></i>ุงูุทูุงุจ</a></li>
            <li><a href="lessons.html"><i class="menu-icon fas fa-book"></i>ุงูุฏุฑูุณ</a></li>
            <li><a href="assignments.html"><i class="menu-icon fas fa-tasks"></i>ุงููุงุฌุจุงุช</a></li>
            <li><a href="tests.html"><i class="menu-icon fas fa-clipboard-check"></i>ุงูุงุฎุชุจุงุฑุงุช</a></li>
            <li><a href="content-library.html"><i class="menu-icon fas fa-book-open"></i>ููุชุจุฉ ุงููุญุชูู</a></li>
            <li><a href="reports.html"><i class="menu-icon fas fa-chart-bar"></i>ุงูุชูุงุฑูุฑ</a></li>
            <li><a href="schedule.html"><i class="menu-icon fas fa-calendar-alt"></i>ุงูุฌุฏูู ุงูุฏุฑุงุณู</a></li>
            <li><a href="committee.html"><i class="menu-icon fas fa-comments"></i>ูุฌูุฉ ุตุนูุจุงุช ุงูุชุนูู</a></li>
            <li><a href="messages.html"><i class="menu-icon fas fa-envelope"></i>ุงููุฑุงุณูุงุช</a></li>
            <li><a href="settings.html"><i class="menu-icon fas fa-cog"></i>ุงูุฅุนุฏุงุฏุงุช</a></li>
        </ul>
    </aside>

    <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
    <main class="main-content-dashboard">
        <div class="dashboard-content">
            <div class="content-header">
                <h1>๐ ููุชุจุฉ ุงููุญุชูู ุงูุชุนูููู</h1>
                <div class="header-actions">
                    <button class="btn btn-primary" onclick="showAddContentModal()">
                        <i class="fas fa-plus"></i> ุฅุถุงูุฉ ูุญุชูู ุฌุฏูุฏ
                    </button>
                </div>
            </div>

            <!-- ุฅุญุตุงุฆูุงุช ุงูููุชุจุฉ -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-number" id="totalLessons">0</div>
                        <div class="stat-label">ุฏุฑุณ ูุถุงูุฉ</div>
                    </div>
                </div>
                <div class="stat-card success">
                    <div class="stat-icon">
                        <i class="fas fa-clipboard-check"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-number" id="totalTests">0</div>
                        <div class="stat-label">ุงุฎุชุจุงุฑ ุชุดุฎูุตู</div>
                    </div>
                </div>
                <div class="stat-card warning">
                    <div class="stat-icon">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-number" id="totalExercises">0</div>
                        <div class="stat-label">ุชูุฑูู ุชุนูููู</div>
                    </div>
                </div>
                <div class="stat-card danger">
                    <div class="stat-icon">
                        <i class="fas fa-download"></i>
                    </div>
                    <div class="stat-info">
                        <div class="stat-number" id="downloadCount">0</div>
                        <div class="stat-label">ูุฑุฉ ุชุญููู</div>
                    </div>
                </div>
            </div>

            <!-- ุฃูุณุงู ุงูููุชุจุฉ -->
            <div class="library-sections">
                <!-- ูุณู ุงูุฏุฑูุณ ุงูุชุนููููุฉ -->
                <div class="library-section">
                    <div class="section-header">
                        <h2>๐ ุงูุฏุฑูุณ ุงูุชุนููููุฉ</h2>
                        <button class="btn btn-success" onclick="showAddLessonModal()">
                            <i class="fas fa-plus"></i> ุฅุถุงูุฉ ุฏุฑุณ ุฌุฏูุฏ
                        </button>
                    </div>
                    <div class="content-grid" id="lessonsGrid">
                        <!-- ุณูุชู ุชุนุจุฆุฉ ุงูุฏุฑูุณ ููุง ุฏููุงููููุงู -->
                    </div>
                </div>

                <!-- ูุณู ุงูุงุฎุชุจุงุฑุงุช ุงูุชุดุฎูุตูุฉ -->
                <div class="library-section">
                    <div class="section-header">
                        <h2>๐ ุงูุงุฎุชุจุงุฑุงุช ุงูุชุดุฎูุตูุฉ</h2>
                        <div class="section-actions">
                            <button class="btn btn-primary" onclick="importDiagnosticTest()">
                                <i class="fas fa-download"></i> ุงุณุชูุฑุงุฏ ุงุฎุชุจุงุฑ ุชุดุฎูุตู
                            </button>
                            <button class="btn btn-success" onclick="showAddDiagnosticTestModal()">
                                <i class="fas fa-plus"></i> ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุชุดุฎูุตู ุฌุฏูุฏ
                            </button>
                        </div>
                    </div>
                    <div class="content-grid" id="testsGrid">
                        <!-- ุณูุชู ุชุนุจุฆุฉ ุงูุงุฎุชุจุงุฑุงุช ููุง ุฏููุงููููุงู -->
                    </div>
                </div>

                <!-- ูุณู ุงูุชูุงุฑูู ูุงูุฃูุนุงุจ ุงูุชุนููููุฉ -->
                <div class="library-section">
                    <div class="section-header">
                        <h2>๐ฎ ุงูุชูุงุฑูู ูุงูุฃูุนุงุจ ุงูุชุนููููุฉ</h2>
                        <button class="btn btn-warning" onclick="showAddExerciseModal()">
                            <i class="fas fa-plus"></i> ุฅุถุงูุฉ ุชูุฑูู ุฌุฏูุฏ
                        </button>
                    </div>
                    <div class="content-grid" id="exercisesGrid">
                        <!-- ุณูุชู ุชุนุจุฆุฉ ุงูุชูุงุฑูู ููุง ุฏููุงููููุงู -->
                    </div>
                </div>

                <!-- ูุณู ุงูุฃูุฏุงู ุงูุชุนููููุฉ -->
                <div class="library-section">
                    <div class="section-header">
                        <h2>๐ฏ ุงูุฃูุฏุงู ุงูุชุนููููุฉ</h2>
                        <button class="btn btn-info" onclick="showAddObjectiveModal()">
                            <i class="fas fa-plus"></i> ุฅุถุงูุฉ ูุฏู ุชุนูููู
                        </button>
                    </div>
                    <div class="objectives-list" id="objectivesList">
                        <!-- ุณูุชู ุชุนุจุฆุฉ ุงูุฃูุฏุงู ููุง ุฏููุงููููุงู -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- ูุงูุฐุฉ ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุชุดุฎูุตู ุฌุฏูุฏ -->
    <div class="modal" id="addDiagnosticTestModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3><i class="fas fa-plus"></i> ุฅุถุงูุฉ ุงุฎุชุจุงุฑ ุชุดุฎูุตู ุฌุฏูุฏ</h3>
                <button class="modal-close" onclick="closeAddDiagnosticTestModal()">ร</button>
            </div>
            <div class="modal-body">
                <form id="addDiagnosticTestForm" onsubmit="saveDiagnosticTest(event)">
                    <!-- ุนููุงู ุงูุงุฎุชุจุงุฑ -->
                    <div class="form-group">
                        <label for="testTitle" class="form-label">
                            <i class="fas fa-heading"></i> ุนููุงู ุงูุงุฎุชุจุงุฑ ุงูุชุดุฎูุตู *
                        </label>
                        <input 
                            type="text" 
                            id="testTitle" 
                            class="form-control" 
                            placeholder="ุฃุฏุฎู ุนููุงู ุงูุงุฎุชุจุงุฑ ุงูุชุดุฎูุตู" 
                            required
                        >
                        <small class="form-text text-muted">ูุซุงู: ุงุฎุชุจุงุฑ ุชุดุฎูุตู ูู ุงููุฑุงุกุฉ ููุตู ุงูุฃูู</small>
                    </div>

                    <!-- ุงููุงุฏุฉ -->
                    <div class="form-group">
                        <label for="testSubject" class="form-label">
                            <i class="fas fa-book"></i> ุงููุงุฏุฉ *
                        </label>
                        <select id="testSubject" class="form-control" required>
                            <option value="">ุงุฎุชุฑ ุงููุงุฏุฉ</option>
                            <option value="ูุบุชู">ูุบุชู</option>
                            <option value="ุฑูุงุถูุงุช">ุฑูุงุถูุงุช</option>
                        </select>
                    </div>

                    <!-- ูุตู ุงูุงุฎุชุจุงุฑ -->
                    <div class="form-group">
                        <label for="testDescription" class="form-label">
                            <i class="fas fa-align-left"></i> ูุตู ุงูุงุฎุชุจุงุฑ (ุงุฎุชูุงุฑู)
                        </label>
                        <textarea 
                            id="testDescription" 
                            class="form-control" 
                            rows="3"
                            placeholder="ุฃุฏุฎู ูุตูุงู ููุงุฎุชุจุงุฑ ุงูุชุดุฎูุตู (ุงููุฏูุ ุงูููุช ุงููุชููุนุ ุงูุชุนูููุงุช...)"
                        ></textarea>
                    </div>

                    <!-- ููุช ุงูุงุฎุชุจุงุฑ -->
                    <div class="form-group">
                        <label for="testDuration" class="form-label">
                            <i class="fas fa-clock"></i> ููุช ุงูุงุฎุชุจุงุฑ (ุฏูููุฉ)
                        </label>
                        <input 
                            type="number" 
                            id="testDuration" 
                            class="form-control" 
                            min="5" 
                            max="120" 
                            value="30"
                            placeholder="ุงูููุช ุจุงูุฏูุงุฆู"
                        >
                    </div>

                    <!-- ูุณู ุฅุถุงูุฉ ุงูุฃุณุฆูุฉ -->
                    <div class="questions-section">
                        <div class="section-header">
                            <h4><i class="fas fa-question-circle"></i> ุฃุณุฆูุฉ ุงูุงุฎุชุจุงุฑ ุงูุชุดุฎูุตู</h4>
                            <button type="button" class="btn btn-primary" onclick="addQuestion()">
                                <i class="fas fa-plus"></i> ุฅุถุงูุฉ ุณุคุงู
                            </button>
                        </div>
                        
                        <div id="questionsContainer">
                            <!-- ุณูุชู ุฅุถุงูุฉ ุงูุฃุณุฆูุฉ ููุง ุฏููุงููููุงู -->
                            <div class="no-questions">
                                <div class="no-questions-icon">โ</div>
                                <h5>ูุง ุชูุฌุฏ ุฃุณุฆูุฉ ูุถุงูุฉ</h5>
                                <p>ูู ุจุฅุถุงูุฉ ุฃุณุฆูุฉ ููุงุฎุชุจุงุฑ ุงูุชุดุฎูุตู</p>
                            </div>
                        </div>
                    </div>

                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" onclick="closeAddDiagnosticTestModal()">
                            <i class="fas fa-times"></i> ุฅูุบุงุก
                        </button>
                        <button type="submit" class="btn btn-success">
                            <i class="fas fa-save"></i> ุญูุธ ุงูุงุฎุชุจุงุฑ ุงูุชุดุฎูุตู
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ูุนุงููุฉ ูุญุชูู -->
    <div class="modal" id="previewContentModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3 id="previewTitle">ูุนุงููุฉ ุงููุญุชูู</h3>
                <button class="modal-close" onclick="closePreviewModal()">ร</button>
            </div>
            <div class="modal-body" id="previewBody">
                <!-- ุณูุชู ุชุนุจุฆุฉ ุงููุญุชูู ููุง ุฏููุงููููุงู -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" onclick="downloadContent()">
                    <i class="fas fa-download"></i> ุชุญููู
                </button>
                <button class="btn btn-secondary" onclick="closePreviewModal()">
                    <i class="fas fa-times"></i> ุฅุบูุงู
                </button>
            </div>
        </div>
    </div>

    <!-- ูุงูุฐุฉ ุงุณุชูุฑุงุฏ ุงุฎุชุจุงุฑ -->
    <div class="modal" id="importTestModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-download"></i> ุงุณุชูุฑุงุฏ ุงุฎุชุจุงุฑ ุชุดุฎูุตู</h3>
                <button class="modal-close" onclick="closeImportTestModal()">ร</button>
            </div>
            <div class="modal-body">
                <div class="import-instructions">
                    <h4><i class="fas fa-info-circle"></i> ุชุนูููุงุช ุงูุงุณุชูุฑุงุฏ:</h4>
                    <ul>
                        <li>ูุฌุจ ุฃู ูููู ุงูููู ุจุตูุบุฉ PDF ุฃู Word</li>
                        <li>ูุฌุจ ุฃู ูุญุชูู ุนูู ุงูุฃุณุฆูุฉ ูุงูุฎูุงุฑุงุช</li>
                        <li>ูููู ุงุณุชูุฑุงุฏ ุงูุฅุฌุงุจุงุช ุงููููุฐุฌูุฉ</li>
                        <li>ุงูุญุฏ ุงูุฃูุตู ูุญุฌู ุงูููู: 10 ููุฌุงุจุงูุช</li>
                    </ul>
                </div>
                <div class="file-upload-area" onclick="document.getElementById('testFile').click()">
                    <input type="file" id="testFile" accept=".pdf,.doc,.docx" style="display: none;">
                    <div class="upload-placeholder">
                        <div class="upload-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <p>ุงููุฑ ูุฑูุน ููู ุงูุงุฎุชุจุงุฑ</p>
                        <small>PDF ุฃู Word ููุท</small>
                    </div>
                </div>
                <div id="fileInfo" class="file-info" style="display: none;">
                    <div class="file-name" id="fileName"></div>
                    <div class="file-size" id="fileSize"></div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeImportTestModal()">
                    <i class="fas fa-times"></i> ุฅูุบุงุก
                </button>
                <button class="btn btn-primary" onclick="processImportTest()">
                    <i class="fas fa-upload"></i> ุงุณุชูุฑุงุฏ
                </button>
            </div>
        </div>
    </div>

    <!-- ุณูุฑุจุชุงุช JavaScript -->
    <script src="../../assets/js/auth.js"></script>
    <script src="../../assets/js/teacher.js"></script>
    <script src="../../assets/js/diagnostic-tests.js"></script>
    <script src="../../assets/js/content-library.js"></script>
    
    <script>
        // ุชุญููู ุงูุจูุงูุงุช ุนูุฏ ูุชุญ ุงูุตูุญุฉ
        document.addEventListener('DOMContentLoaded', function() {
            const user = getCurrentUser();
            if (!user || user.role !== 'teacher') {
                window.location.href = '../../index.html';
                return;
            }
            
            document.getElementById('userName').textContent = user.name;
            document.getElementById('userAvatar').textContent = user.name.charAt(0);
            
            loadLibraryStats();
            loadLessons();
            loadTests();
            loadExercises();
            loadObjectives();
            
            // ุฅุนุฏุงุฏ ุฑูุน ุงูููู
            document.getElementById('testFile').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    document.getElementById('fileName').textContent = file.name;
                    document.getElementById('fileSize').textContent = formatFileSize(file.size);
                    document.getElementById('fileInfo').style.display = 'block';
                }
            });
        });

        function loadLibraryStats() {
            // ูุญุงูุงุฉ ุชุญููู ุงูุฅุญุตุงุฆูุงุช
            setTimeout(() => {
                document.getElementById('totalLessons').textContent = '12';
                document.getElementById('totalTests').textContent = '8';
                document.getElementById('totalExercises').textContent = '15';
                document.getElementById('downloadCount').textContent = '143';
            }, 1000);
        }

        function loadLessons() {
            const lessonsGrid = document.getElementById('lessonsGrid');
            const lessons = [
                {
                    id: 1,
                    title: 'ูุฑุงุกุฉ ุงูุญุฑูู ุงููุชุญุฑูุฉ',
                    subject: 'ูุบุชู',
                    description: 'ุฏุฑุณ ุชูุงุนูู ูุชุนููู ุงูุญุฑูู ุงููุชุญุฑูุฉ',
                    questions: 5,
                    exercises: 3,
                    grade: 'ุงูุตู ุงูุฃูู',
                    linked: true
                },
                {
                    id: 2,
                    title: 'ุงูุฌูุน ุงูุจุณูุท',
                    subject: 'ุฑูุงุถูุงุช',
                    description: 'ุชุนููู ุนูููุงุช ุงูุฌูุน ููุฃุฑูุงู ูู 1 ุฅูู 10',
                    questions: 8,
                    exercises: 4,
                    grade: 'ุงูุตู ุงูุฃูู',
                    linked: true
                }
            ];
            
            lessonsGrid.innerHTML = lessons.map(lesson => `
                <div class="content-card">
                    <div class="content-header">
                        <h4>${lesson.title}</h4>
                        <span class="content-badge subject-${lesson.subject}">
                            ${lesson.subject}
                        </span>
                    </div>
                    <div class="content-body">
                        <p>${lesson.description}</p>
                        <div class="content-meta">
                            <span class="questions-count">${lesson.questions} ุณุคุงู</span>
                            <span class="exercises-count">${lesson.exercises} ุชูุฑูู</span>
                            <span class="grade">${lesson.grade}</span>
                            <span class="objectives-status ${lesson.linked ? 'linked' : 'not-linked'}">
                                ${lesson.linked ? 'ูุฑุชุจุท ุจุฃูุฏุงู' : 'ุบูุฑ ูุฑุชุจุท'}
                            </span>
                        </div>
                    </div>
                    <div class="content-actions">
                        <button class="btn btn-sm btn-primary" onclick="previewLesson(${lesson.id})">
                            <i class="fas fa-eye"></i> ูุนุงููุฉ
                        </button>
                        <button class="btn btn-sm btn-success" onclick="assignLesson(${lesson.id})">
                            <i class="fas fa-share"></i> ุชุนููู
                        </button>
                        <button class="btn btn-sm btn-warning" onclick="editLesson(${lesson.id})">
                            <i class="fas fa-edit"></i> ุชุนุฏูู
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function loadTests() {
            const testsGrid = document.getElementById('testsGrid');
            const tests = [
                {
                    id: 1,
                    title: 'ุงุฎุชุจุงุฑ ุงููุฑุงุกุฉ ุงูุชุดุฎูุตู',
                    subject: 'ูุบุชู',
                    description: 'ุงุฎุชุจุงุฑ ูุชูููู ููุงุฑุงุช ุงููุฑุงุกุฉ ุงูุฃุณุงุณูุฉ',
                    questions: 10,
                    duration: 30,
                    grade: 'ุงูุตู ุงูุฃูู',
                    priority: 'ุนุงููุฉ'
                },
                {
                    id: 2,
                    title: 'ุงุฎุชุจุงุฑ ุงูุนูููุงุช ุงูุญุณุงุจูุฉ',
                    subject: 'ุฑูุงุถูุงุช',
                    description: 'ุงุฎุชุจุงุฑ ุชุดุฎูุตู ููุนูููุงุช ุงูุญุณุงุจูุฉ ุงูุจุณูุทุฉ',
                    questions: 15,
                    duration: 45,
                    grade: 'ุงูุตู ุงูุซุงูู',
                    priority: 'ูุชูุณุทุฉ'
                }
            ];
            
            testsGrid.innerHTML = tests.map(test => `
                <div class="content-card">
                    <div class="content-header">
                        <h4>${test.title}</h4>
                        <span class="content-badge subject-${test.subject}">
                            ${test.subject}
                        </span>
                    </div>
                    <div class="content-body">
                        <p>${test.description}</p>
                        <div class="content-meta">
                            <span class="questions-count">${test.questions} ุณุคุงู</span>
                            <span class="duration">${test.duration} ุฏูููุฉ</span>
                            <span class="grade">${test.grade}</span>
                            <span class="priority">ุงูุฃููููุฉ: ${test.priority}</span>
                        </div>
                    </div>
                    <div class="content-actions">
                        <button class="btn btn-sm btn-primary" onclick="previewTest(${test.id})">
                            <i class="fas fa-eye"></i> ูุนุงููุฉ
                        </button>
                        <button class="btn btn-sm btn-success" onclick="assignTest(${test.id})">
                            <i class="fas fa-share"></i> ุชุนููู
                        </button>
                        <button class="btn btn-sm btn-danger" onclick="deleteTest(${test.id})">
                            <i class="fas fa-trash"></i> ุญุฐู
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function loadExercises() {
            const exercisesGrid = document.getElementById('exercisesGrid');
            const exercises = [
                {
                    id: 1,
                    title: 'ูุนุจุฉ ูุทุงุจูุฉ ุงูุญุฑูู',
                    type: 'ูุนุจุฉ ุชูุงุนููุฉ',
                    description: 'ูุนุจุฉ ุชุนููููุฉ ููุทุงุจูุฉ ุงูุญุฑูู ูุน ุงูุตูุฑ',
                    duration: 15,
                    grade: 'ุงูุตู ุงูุฃูู',
                    strategy: 'ุงูุชุนูู ุจุงููุนุจ'
                },
                {
                    id: 2,
                    title: 'ุชูุฑูู ุชุฑุชูุจ ุงูุฃุฑูุงู',
                    type: 'ุชูุฑูู ุชูุงุนูู',
                    description: 'ุชูุฑูู ูุชุฑุชูุจ ุงูุฃุฑูุงู ุชุตุงุนุฏูุงู ูุชูุงุฒููุงู',
                    duration: 20,
                    grade: 'ุงูุตู ุงูุฃูู',
                    strategy: 'ุงูุชุนูู ุจุงูุชุฏุฑุฌ'
                }
            ];
            
            exercisesGrid.innerHTML = exercises.map(exercise => `
                <div class="content-card">
                    <div class="content-header">
                        <h4>${exercise.title}</h4>
                        <span class="content-badge" style="background: #17a2b8; color: white;">
                            ${exercise.type}
                        </span>
                    </div>
                    <div class="content-body">
                        <p>${exercise.description}</p>
                        <div class="content-meta">
                            <span class="duration">${exercise.duration} ุฏูููุฉ</span>
                            <span class="grade">${exercise.grade}</span>
                            <span class="strategy">${exercise.strategy}</span>
                        </div>
                    </div>
                    <div class="content-actions">
                        <button class="btn btn-sm btn-primary" onclick="previewExercise(${exercise.id})">
                            <i class="fas fa-eye"></i> ูุนุงููุฉ
                        </button>
                        <button class="btn btn-sm btn-success" onclick="assignExercise(${exercise.id})">
                            <i class="fas fa-share"></i> ุชุนููู
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function loadObjectives() {
            const objectivesList = document.getElementById('objectivesList');
            const objectives = [
                {
                    id: 1,
                    title: 'ูุฑุงุกุฉ ุงูุญุฑูู ุงููุฌุงุฆูุฉ',
                    subject: 'ูุบุชู',
                    objectives: [
                        'ุชูููุฒ ุงูุญุฑูู ุงููุฌุงุฆูุฉ',
                        'ุฑุจุท ุงูุญุฑู ุจุตูุชู',
                        'ูุชุงุจุฉ ุงูุญุฑู ุจุดูู ุตุญูุญ'
                    ]
                },
                {
                    id: 2,
                    title: 'ุงูุนุฏ ูู 1 ุฅูู 20',
                    subject: 'ุฑูุงุถูุงุช',
                    objectives: [
                        'ุงูุชุนุฑู ุนูู ุงูุฃุฑูุงู',
                        'ุงูุนุฏ ุจุงูุชุฑุชูุจ',
                        'ููุงุฑูุฉ ุงูุฃุฑูุงู'
                    ]
                }
            ];
            
            objectivesList.innerHTML = objectives.map(objective => `
                <div class="objective-item">
                    <div class="objective-header">
                        <h4>${objective.title}</h4>
                        <span class="content-badge subject-${objective.subject}">
                            ${objective.subject}
                        </span>
                    </div>
                    <div class="teaching-objectives">
                        ${objective.objectives.map(obj => `
                            <div class="teaching-objective">${obj}</div>
                        `).join('')}
                    </div>
                    <div class="content-actions" style="margin-top: 10px;">
                        <button class="btn btn-sm btn-primary" onclick="linkToContent(${objective.id})">
                            <i class="fas fa-link"></i> ุฑุจุท ุจูุญุชูู
                        </button>
                        <button class="btn btn-sm btn-warning" onclick="editObjective(${objective.id})">
                            <i class="fas fa-edit"></i> ุชุนุฏูู
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        // ุฏูุงู ุนุงูุฉ
        function showAddContentModal() {
            showAuthNotification('ุณูุชู ุชุทููุฑ ูุฐู ุงูุฎุงุตูุฉ ูุฑูุจุงู', 'info');
        }

        function showAddLessonModal() {
            showAuthNotification('ุณูุชู ุชุทููุฑ ูุฐู ุงูุฎุงุตูุฉ ูุฑูุจุงู', 'info');
        }

        function showAddExerciseModal() {
            showAuthNotification('ุณูุชู ุชุทููุฑ ูุฐู ุงูุฎุงุตูุฉ ูุฑูุจุงู', 'info');
        }

        function showAddObjectiveModal() {
            showAuthNotification('ุณูุชู ุชุทููุฑ ูุฐู ุงูุฎุงุตูุฉ ูุฑูุจุงู', 'info');
        }

        function importDiagnosticTest() {
            document.getElementById('importTestModal').classList.add('show');
        }

        function closeImportTestModal() {
            document.getElementById('importTestModal').classList.remove('show');
            document.getElementById('testFile').value = '';
            document.getElementById('fileInfo').style.display = 'none';
        }

        function processImportTest() {
            const file = document.getElementById('testFile').files[0];
            if (!file) {
                showAuthNotification('ูุฑุฌู ุงุฎุชูุงุฑ ููู ููุงุณุชูุฑุงุฏ', 'error');
                return;
            }
            
            showAuthNotification('ุฌุงุฑู ุงุณุชูุฑุงุฏ ุงูุงุฎุชุจุงุฑ...', 'info');
            
            setTimeout(() => {
                showAuthNotification('ุชู ุงุณุชูุฑุงุฏ ุงูุงุฎุชุจุงุฑ ุจูุฌุงุญ', 'success');
                closeImportTestModal();
                loadTests();
            }, 2000);
        }

        function previewLesson(id) {
            document.getElementById('previewTitle').textContent = 'ูุนุงููุฉ ุงูุฏุฑุณ';
            document.getElementById('previewBody').innerHTML = `
                <div class="lesson-preview">
                    <h4>ุชูุงุตูู ุงูุฏุฑุณ</h4>
                    <p>ูุฐุง ูุณู ูุนุงููุฉ ุงูุฏุฑุณ ุงูุชุนูููู. ุณูุชู ุชุทููุฑ ูุฐู ุงูุฎุงุตูุฉ ุจุงููุงูู ูู ุงููุฑุงุญู ุงููุงุฏูุฉ.</p>
                </div>
            `;
            document.getElementById('previewContentModal').classList.add('show');
        }

        function previewTest(id) {
            document.getElementById('previewTitle').textContent = 'ูุนุงููุฉ ุงูุงุฎุชุจุงุฑ';
            document.getElementById('previewBody').innerHTML = `
                <div class="test-preview">
                    <h4>ุชูุงุตูู ุงูุงุฎุชุจุงุฑ ุงูุชุดุฎูุตู</h4>
                    <p>ูุฐุง ูุณู ูุนุงููุฉ ุงูุงุฎุชุจุงุฑ ุงูุชุดุฎูุตู. ุณูุชู ุชุทููุฑ ูุฐู ุงูุฎุงุตูุฉ ุจุงููุงูู ูู ุงููุฑุงุญู ุงููุงุฏูุฉ.</p>
                </div>
            `;
            document.getElementById('previewContentModal').classList.add('show');
        }

        function previewExercise(id) {
            document.getElementById('previewTitle').textContent = 'ูุนุงููุฉ ุงูุชูุฑูู';
            document.getElementById('previewBody').innerHTML = `
                <div class="exercise-preview">
                    <h4>ุชูุงุตูู ุงูุชูุฑูู ุงูุชุนูููู</h4>
                    <p>ูุฐุง ูุณู ูุนุงููุฉ ุงูุชูุฑูู ุฃู ุงููุนุจุฉ ุงูุชุนููููุฉ. ุณูุชู ุชุทููุฑ ูุฐู ุงูุฎุงุตูุฉ ุจุงููุงูู ูู ุงููุฑุงุญู ุงููุงุฏูุฉ.</p>
                </div>
            `;
            document.getElementById('previewContentModal').classList.add('show');
        }

        function closePreviewModal() {
            document.getElementById('previewContentModal').classList.remove('show');
        }

        function downloadContent() {
            showAuthNotification('ุฌุงุฑู ุชุญููู ุงููุญุชูู...', 'info');
            setTimeout(() => {
                showAuthNotification('ุชู ุชุญููู ุงููุญุชูู ุจูุฌุงุญ', 'success');
            }, 1500);
        }

        function assignLesson(id) {
            showAuthNotification('ุฌุงุฑู ุชุนููู ุงูุฏุฑุณ ููุทูุงุจ...', 'info');
        }

        function assignTest(id) {
            showAuthNotification('ุฌุงุฑู ุชุนููู ุงูุงุฎุชุจุงุฑ ููุทูุงุจ...', 'info');
        }

        function assignExercise(id) {
            showAuthNotification('ุฌุงุฑู ุชุนููู ุงูุชูุฑูู ููุทูุงุจ...', 'info');
        }

        function editLesson(id) {
            showAuthNotification('ุฎุงุตูุฉ ุงูุชุนุฏูู ููุฏ ุงูุชุทููุฑ', 'info');
        }

        function deleteTest(id) {
            if (confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐุง ุงูุงุฎุชุจุงุฑุ')) {
                showAuthNotification('ุชู ุญุฐู ุงูุงุฎุชุจุงุฑ ุจูุฌุงุญ', 'success');
                loadTests();
            }
        }

        function linkToContent(id) {
            showAuthNotification('ุฎุงุตูุฉ ุงูุฑุจุท ุจุงูุฃูุฏุงู ููุฏ ุงูุชุทููุฑ', 'info');
        }

        function editObjective(id) {
            showAuthNotification('ุฎุงุตูุฉ ุชุนุฏูู ุงูุฃูุฏุงู ููุฏ ุงูุชุทููุฑ', 'info');
        }

        function logout() {
            if (confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุชุณุฌูู ุงูุฎุฑูุฌุ')) {
                window.location.href = '../../index.html';
            }
        }
    </script>
</body>
</html>
