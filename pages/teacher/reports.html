<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± - Ù…ÙŠØ³Ø± Ø§Ù„ØªØ¹Ù„Ù…</title>
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="../../assets/css/dashboard.css">
    <link rel="stylesheet" href="../../assets/css/teacher.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        .reports-layout { display: grid; grid-template-columns: 350px 1fr; gap: 25px; align-items: start; }
        .reports-card { background: white; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); padding: 25px; border: 1px solid #eef2f6; }
        .btn-generate { width: 100%; padding: 14px; background: #4361ee; color: white; border: none; border-radius: 10px; font-weight: bold; cursor: pointer; }
        .students-selection-box { background: #fafafa; border: 2px solid #f1f1f1; border-radius: 8px; max-height: 300px; overflow-y: auto; padding: 10px; }
        
        /* Responsive Fixes */
        @media (max-width: 992px) {
            .reports-layout { grid-template-columns: 1fr; } /* Stack vertically */
            .sidebar { position: fixed; right: -280px; top: 0; height: 100vh; z-index: 1100; transition: 0.3s; }
            .sidebar.active { right: 0; }
            .main-content-dashboard { margin-right: 0; width: 100%; }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <div class="sidebar-overlay" onclick="toggleSidebar()" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); z-index:1099;"></div>
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header"><div class="logo"><img src="../../assets/images/logo.png"><h2>Ù…ÙŠØ³Ø± Ø§Ù„ØªØ¹Ù„Ù…</h2></div></div>
            <ul class="sidebar-menu">
                <li><a href="dashboard.html"><span class="menu-icon">ğŸ“Š</span>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a></li>
                <li><a href="students.html"><span class="menu-icon">ğŸ‘¨â€ğŸ“</span>Ø§Ù„Ø·Ù„Ø§Ø¨</a></li>
                <li><a href="content-library.html"><span class="menu-icon">ğŸ“š</span>Ù…ÙƒØªØ¨Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰</a></li>
                <li><a href="study-schedule.html"><span class="menu-icon">ğŸ“…</span>Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</a></li>
                <li><a href="messages.html"><span class="menu-icon">ğŸ’¬</span>Ù…Ø±Ø§Ø³Ù„Ø© Ø§Ù„Ø·Ù„Ø§Ø¨</a></li>
                <li><a href="reports.html" class="active"><span class="menu-icon">ğŸ“‹</span>Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</a></li>
                <li><a href="committee.html"><span class="menu-icon">ğŸ‘¥</span>Ù„Ø¬Ù†Ø© ØµØ¹ÙˆØ¨Ø§Øª Ø§Ù„ØªØ¹Ù„Ù…</a></li>
                <li><a href="#" onclick="logout()"><span class="menu-icon">ğŸšª</span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a></li>
            </ul>
        </aside>

        <main class="main-content-dashboard">
            <header class="dashboard-header">
                <button class="mobile-menu-btn" onclick="toggleSidebar()">â˜°</button>
                <div class="user-info"><div class="user-welcome"><div class="welcome-text">Ù…Ø±ÙƒØ² Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</div><div class="user-name">Ø£. Ø§Ù„Ù…Ø¹Ù„Ù…</div></div></div>
            </header>

            <div class="dashboard-content">
                <div class="reports-layout">
                    <div class="reports-controls">
                        <div class="reports-card">
                            <h3><i class="fas fa-filter"></i> Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„ØªÙ‚Ø±ÙŠØ±</h3>
                            <div class="mb-4"><label>Ù†ÙˆØ¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ±:</label><select id="reportType" class="form-control" style="width:100%; height:45px;"><option value="attendance">ğŸ“‹ ØªÙ‚Ø±ÙŠØ± Ø§Ù„ØºÙŠØ§Ø¨</option><option value="achievement">ğŸ“ˆ Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²</option></select></div>
                            <div class="mb-4"><div id="studentsListContainer" class="students-selection-box">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div></div>
                            <button class="btn-generate" onclick="initiateReport()">Ø¹Ø±Ø¶ Ø§Ù„ØªÙ‚Ø±ÙŠØ±</button>
                        </div>
                    </div>
                    <div class="reports-preview">
                        <div id="reportPreviewArea" style="background: white; border-radius: 12px; min-height: 600px; display: flex; align-items: center; justify-content: center; border: 2px dashed #e0e0e0;">
                            <h3 style="color: #aaa;">Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¹Ø§ÙŠÙ†Ø©</h3>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <script src="../../assets/js/dashboard.js"></script>
    <script src="../../assets/js/teacher.js"></script>
    <script src="../../assets/js/auth.js"></script>
    <script src="../../assets/js/reports.js"></script>
    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.querySelector('.sidebar-overlay');
            sidebar.classList.toggle('active');
            overlay.style.display = sidebar.classList.contains('active') ? 'block' : 'none';
        }
    </script>
</body>
</html>
