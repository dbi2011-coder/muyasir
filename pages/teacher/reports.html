<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงูุชูุงุฑูุฑ - ููุณุฑ ุงูุชุนูู</title>
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="../../assets/css/dashboard.css">
    <link rel="stylesheet" href="../../assets/css/teacher.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-header"><div class="logo"><h2>ููุณุฑ ุงูุชุนูู</h2></div></div>
            <ul class="sidebar-menu">
                <li><a href="dashboard.html"><span class="menu-icon">๐</span>ููุญุฉ ุงูุชุญูู</a></li>
                <li><a href="students.html"><span class="menu-icon">๐จโ๐</span>ุงูุทูุงุจ</a></li>
                <li><a href="content-library.html"><span class="menu-icon">๐</span>ููุชุจุฉ ุงููุญุชูู</a></li>
                <li><a href="study-schedule.html"><span class="menu-icon">๐</span>ุงูุฌุฏูู ุงูุฏุฑุงุณู</a></li>
                <li><a href="messages.html"><span class="menu-icon">๐ฌ</span>ูุฑุงุณูุฉ ุงูุทูุงุจ</a></li>
                <li><a href="reports.html" class="active"><span class="menu-icon">๐</span>ุงูุชูุงุฑูุฑ</a></li>
                <li><a href="committee.html"><span class="menu-icon">๐ฅ</span>ูุฌูุฉ ุงูุตุนูุจุงุช</a></li>
                <li><a href="#" onclick="logout()"><span class="menu-icon">๐ช</span>ุฎุฑูุฌ</a></li>
            </ul>
        </aside>

        <main class="main-content-dashboard">
            <header class="dashboard-header">
                <button class="mobile-menu-btn">โฐ</button>
                <div class="user-info"><div class="user-name" id="userName">ุฃ/ ุงููุนูู</div><div class="user-avatar">ู</div></div>
            </header>

            <div class="dashboard-content">
                <div class="content-header">
                    <h1>ุงูุชูุงุฑูุฑ ูุงูุฅุญุตุงุฆูุงุช</h1>
                </div>

                <div class="reports-filters">
                    <div class="filter-card">
                        <h3>ุชุญุฏูุฏ ุงูุทูุงุจ</h3>
                        <div class="filter-options">
                            <div class="form-group"><label>ุงูุตู</label><select id="gradeFilter" class="form-control" onchange="filterStudents()"><option value="all">ุงููู</option><option value="1">ุงูุฃูู</option><option value="2">ุงูุซุงูู</option></select></div>
                            <div class="form-group"><label>ุงููุงุฏุฉ</label><select id="subjectFilter" class="form-control" onchange="filterStudents()"><option value="all">ุงููู</option><option value="ูุบุชู">ูุบุชู</option><option value="ุฑูุงุถูุงุช">ุฑูุงุถูุงุช</option></select></div>
                        </div>
                    </div>
                </div>

                <div class="students-list-section">
                    <div class="section-header">
                        <h2>ูุงุฆูุฉ ุงูุทูุงุจ</h2>
                        <div class="header-actions">
                            <button class="btn btn-primary btn-sm" onclick="selectAllStudents()">ุชุญุฏูุฏ ุงููู</button>
                            <button class="btn btn-success btn-sm" onclick="generateReportForSelected()">ุฅูุดุงุก ุชูุฑูุฑ</button>
                        </div>
                    </div>
                    <div class="table-container">
                        <table class="data-table">
                            <thead><tr><th><input type="checkbox" id="selectAllCheckbox" onchange="toggleSelectAll()"></th><th>ุงูุงุณู</th><th>ุงูุตู</th><th>ุงููุงุฏุฉ</th><th>ุงูุชูุฏู</th><th>ุฅุฌุฑุงุก</th></tr></thead>
                            <tbody id="studentsTableBody"></tbody>
                        </table>
                    </div>
                </div>

                <div class="report-options-section" id="reportOptionsSection" style="display: none; margin-top: 30px;">
                    <div class="report-options card p-4">
                        <h3>ุฎูุงุฑุงุช ุงูุชูุฑูุฑ</h3>
                        <div class="form-group">
                            <label>ููุน ุงูุชูุฑูุฑ</label>
                            <div style="display:flex; gap:15px; flex-wrap:wrap;">
                                <label><input type="radio" name="reportType" value="studentData" checked> ุจูุงูุงุช</label>
                                <label><input type="radio" name="reportType" value="diagnosticTest"> ุงุฎุชุจุงุฑ ุชุดุฎูุตู</label>
                                <label><input type="radio" name="reportType" value="iep"> ุฎุทุฉ ุชุฑุจููุฉ</label>
                                <label><input type="radio" name="reportType" value="assignments"> ูุงุฌุจุงุช</label>
                            </div>
                        </div>
                        <div class="form-group mt-2"><textarea id="reportNotes" class="form-control" placeholder="ููุงุญุธุงุช..."></textarea></div>
                        <div class="mt-3"><button class="btn btn-success" onclick="generateReport()">๐ ุฅุตุฏุงุฑ PDF</button></div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <div id="viewReportModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header"><h3>ูุนุงููุฉ ุงูุชูุฑูุฑ</h3><button class="modal-close" onclick="closeReportModal()">ร</button></div>
            <div class="modal-body"><div id="reportPreview"></div></div>
            <div class="modal-footer"><button class="btn btn-primary" onclick="printReport()">ุทุจุงุนุฉ</button></div>
        </div>
    </div>

    <script src="../../assets/js/auth.js"></script>
    <script src="../../assets/js/dashboard.js"></script>
    <script src="../../assets/js/teacher.js"></script>
    <script src="../../assets/js/committee-reports.js"></script> 
</body>
</html>
